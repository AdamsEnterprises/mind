<template name="Motion.ListComponent">
  {{#each motions}}
    {{> Motion.ListItemComponent}}
  {{/each}}
  {{> Motion.NewComponent}}
</template>

<template name="Motion.ListItemComponent">
  <div class="card">
    <div class="card-content">
      <p>{{body}}</p>
    </div>
    {{#if $and isOpen canVote}}
      <div class="card-action">
        {{> Motion.VoteComponent}}
      </div>
    {{/if}}
    {{#if $or canOpen canClose canWithdraw canEdit}}
      <div class="card-action">
        <div class="center-align">
          {{#if canOpen}}
            <button class="open-voting waves-effect waves-light btn-flat" type="button"><i class="material-icons left">play_arrow</i>Open voting</button>
          {{/if}}
          {{#if canClose}}
            <button class="close-voting waves-effect waves-light btn-flat" type="button"><i class="material-icons left">stop</i>Close voting</button>
          {{/if}}
          {{#if canWithdraw}}
            <button class="motion-withdraw waves-effect waves-light btn-flat" type="button"><i class="material-icons left">delete</i>Withdraw</button>
          {{/if}}
          {{#if canEdit}}
            <button class="motion-edit waves-effect waves-light btn-flat" type="button"><i class="material-icons left">edit</i>Edit</button>
          {{/if}}
        </div>
      </div>
    {{/if}}
    {{#if isClosed}}
      <div class="card-action center-align grey-text">
        {{! TODO: Display results. }}
        Voting is closed.
      </div>
    {{/if}}
    {{#if isWithdrawn}}
      <div class="card-action center-align grey-text">
        Motion has been withdrawn.
      </div>
    {{/if}}
  </div>
</template>
