<template name="Meeting.EditComponent">
  {{#if notFound}}
    {{> NotFoundComponent}}
  {{else}}
    {{#if canEdit}}
      {{#if subscriptionsReady}}
        {{#with meeting}}
          {{> Meeting.EditFormComponent}}
        {{/with}}
      {{/if}}
    {{else}}
      {{> AccessDeniedComponent}}
    {{/if}}
  {{/if}}
</template>

<template name="Meeting.EditFormComponent">
  <div class="section">
    <div class="row">
      <form class="col s12" onSubmit>
        <div class="row">
          <div class="input-field col s12">
            <input type="text" name="title" id="edit-meeting-title" required value="{{title}}" />
            <label for="edit-meeting-title">Title</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <input type="date" class="datepicker" name="start-date" id="edit-meeting-start-date" required value="{{startAtDate}}" />
            <label for="edit-meeting-start-date">Start date</label>
          </div>
          <div class="input-field col s6">
            {{! TODO: Style time picker. }}
            <input type="time" name="start-time" id="edit-meeting-start-time" required value="{{startAtTime}}" />
            <label for="edit-meeting-start-time">Start time</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s6">
            <input type="date" class="datepicker" name="end-date" id="edit-meeting-end-date" value="{{endAtDate}}" />
            <label for="edit-meeting-end-date">End date</label>
          </div>
          <div class="input-field col s6">
            {{! TODO: Style time picker. }}
            <input type="time" name="end-time" id="edit-meeting-end-time" value="{{endAtTime}}" />
            <label for="edit-meeting-end-time">End time</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            {{> EditorComponent args name='description' id=($join '-' 'edit-meeting-description' _id) label='Description'}}
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12 center-align">
            <button type="submit" class="btn waves-effect waves-light"><i class="material-icons left">send</i>Edit meeting</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</template>
